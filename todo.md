# SwiftCore 実装TODO

SwiftCoreを実用レベルに引き上げるための実装項目リスト

## 最優先

### 1. ファイルシステムの完成
- [x] Ext2ファイルシステムの完全実装（現在スケルトン）
  - [x] inode管理
  - [x] ブロック管理
  - [x] ディレクトリエントリ操作
  - [x] ファイル読み書き完全対応（読み取りのみ）
- [x] VFS（仮想ファイルシステム）の完成
  - [x] マウント/アンマウント機能
  - [x] 複数ファイルシステム対応
  - [x] パス解決の完全実装
- [x] ディスクI/O実装
  - [x] ATAドライバ
  - [ ] AHCIドライバ
  - [ ] NVMeドライバ
- [x] ディスクサービスとExt2の統合
  - [x] BlockDevice実装（IPCベース）
- [x] ディレクトリ操作システムコール
  - [x] mkdir
  - [x] rmdir
  - [x] readdir
  - [x] chdir
- [ ] パーミッション管理
  - [ ] chmod
  - [ ] chown
  - [ ] アクセス権チェック

### 2. デバイスドライバフレームワーク
- [ ] デバイスドライバ基盤
  - [ ] ドライバ登録/管理機構
  - [ ] デバイスファイル(/devices)管理
  - [ ] IOCTL機構
- [ ] キーボードドライバ
  - [ ] PS/2キーボード
  - [ ] USBキーボード対応
  - [ ] キーマップ管理
- [ ] ディスプレイドライバ
  - [ ] フレームバッファ管理
  - [ ] テキストモードVGA
  - [ ] グラフィックモード切り替え
- [ ] ストレージドライバ
  - [ ] IDE/PATA
  - [ ] SATA
  - [ ] NVMe
  - [ ] パーティション管理
- [ ] USBサポート
  - [ ] USBホストコントローラ（EHCI）
  - [ ] USBホストコントローラ（XHCI）
  - [ ] USBデバイス検出/列挙
- [ ] ドライバ動的ロード機構
  - [ ] カーネルモジュールローダー
  - [ ] ユーザー空間ドライバサポート

### 3. 標準入出力の実装
- [ ] コンソール/TTY
  - [ ] 仮想端末（VT）実装
  - [ ] TTY層の実装
  - [ ] エスケープシーケンス対応
  - [ ] 複数仮想端末切り替え
- [ ] シリアルポート
  - [ ] COMポートドライバ
  - [ ] シリアルコンソール
  - [ ] デバッグ出力整備
- [ ] 標準ストリーム
  - [ ] stdin/stdout/stderr実装
  - [ ] ファイルディスクリプタ管理強化
  - [ ] リダイレクション対応

## 高優先

### 4. プロセス管理の強化
- [ ] ELF実行形式サポート
  - [ ] ELFパーサー
  - [ ] ELFローダー
  - [ ] プログラムヘッダ処理
- [ ] 動的リンク
  - [ ] 共有ライブラリローダー
  - [ ] シンボル解決
  - [ ] PLT/GOT処理
- [ ] プロセス隔離の徹底
  - [ ] ページテーブル完全分離
  - [ ] カーネル空間保護強化
  - [ ] メモリリーク検出
- [ ] シグナル処理
  - [ ] POSIX互換シグナル
  - [ ] シグナルハンドラ登録
  - [ ] kill/raise システムコール
- [ ] fork/execの完全実装
  - [ ] Copy-on-Write最適化
  - [ ] 環境変数引き継ぎ
  - [ ] ファイルディスクリプタ継承

### 5. ネットワークスタック
- [ ] TCP/IP実装
  - [ ] IPv4プロトコル
  - [ ] IPv6プロトコル
  - [ ] ICMP実装
  - [ ] ARP実装
  - [ ] TCP実装
  - [ ] UDP実装
- [ ] NICドライバ
  - [ ] Intel e1000
  - [ ] Realtek RTL8139
  - [ ] VirtIO Net（仮想環境用）
- [ ] ソケットAPI
  - [ ] BSD socket互換API
  - [ ] socket/bind/listen/accept
  - [ ] send/recv/sendto/recvfrom
  - [ ] ソケットファイルディスクリプタ統合
- [ ] ネットワーク設定
  - [ ] DHCP クライアント
  - [ ] ルーティングテーブル
  - [ ] DNS リゾルバ

### 6. マルチコア対応の完全化
- [ ] SMP（対称型マルチプロセッシング）
  - [ ] AP（Application Processor）起動
  - [ ] CPUコア検出/管理
  - [ ] Per-CPUデータ構造
- [ ] APIC完全実装
  - [ ] Local APIC管理
  - [ ] IO APIC設定
  - [ ] 割込みルーティング
- [ ] CPU間同期機構
  - [ ] スピンロック最適化
  - [ ] Read-Write ロック
  - [ ] IPI（プロセッサ間割込み）
  - [ ] CPUアフィニティ制御

## 中優先

### 7. ユーザー空間の充実
- [ ] シェル実装
  - [ ] コマンドラインパーサー
  - [ ] コマンド実行
  - [ ] ジョブ制御
  - [ ] ヒストリ機能
- [ ] 基本コマンド群
  - [ ] ls（ディレクトリ一覧）
  - [ ] cat（ファイル表示）
  - [ ] echo（テキスト出力）
  - [ ] mkdir/rmdir（ディレクトリ操作）
  - [ ] cp/mv/rm（ファイル操作）
  - [ ] ps（プロセス一覧）
  - [ ] kill（プロセス終了）
- [ ] パイプ/リダイレクト
  - [ ] パイプ機構（|）
  - [ ] リダイレクト（>, <, >>）
  - [ ] 標準エラー出力リダイレクト
- [ ] 環境変数
  - [ ] 環境変数管理
  - [ ] export/unset
  - [ ] PATH解決

### 8. セキュリティ機構
- [ ] ユーザー認証
  - [ ] ユーザー管理（/data/users）
  - [ ] パスワード認証
  - [ ] ログイン機構
  - [ ] sudo実装
- [ ] アクセス制御
  - [ ] ファイルパーミッション強化
  - [ ] プロセス権限管理
  - [ ] Capability ベースセキュリティ
- [ ] サンドボックス
  - [ ] プロセス隔離強化
  - [ ] リソース制限（ulimit）
  - [ ] Seccomp BPF

### 9. エラー処理の強化
- [ ] パニックハンドラ改善
  - [ ] スタックトレース詳細化
  - [ ] エラー情報保存
  - [ ] リカバリポイント
- [ ] エラーリカバリ機構
  - [ ] プロセスレベルエラー隔離
  - [ ] カーネルパニック回避機構
  - [ ] Watchdog タイマー
  - [ ] エラー自動復旧
- [ ] ログシステム
  - [ ] カーネルログバッファ
  - [ ] syslog互換実装
  - [ ] ログレベル管理
  - [ ] dmesg コマンド

## 時間あったらやる

### 10. グラフィカルUI
- [ ] ウィンドウシステム
- [ ] GUIツールキット
  - [ ] 基本ウィジェット
  - [ ] レンダリングエンジン
  - [ ] フォント管理

### 11. 高度なファイルシステム
- [ ] ext4サポート
  - [ ] エクステント
  - [ ] ジャーナリング
- [ ] Btrfs サポート
  - [ ] Copy-on-Write
  - [ ] スナップショット
- [ ] ファイルシステム機能
  - [ ] ソフトリンク/ハードリンク
  - [ ] ファイルロック
  - [ ] メモリマップドファイル（mmap）

### 12. 仮想化サポート
- [ ] KVM互換API
  - [ ] VMX/SVM検出
  - [ ] 仮想CPU管理
  - [ ] メモリ仮想化
- [ ] コンテナサポート
  - [ ] Namespace分離
  - [ ] Cgroup実装